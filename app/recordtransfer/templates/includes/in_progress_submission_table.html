{% extends "includes/base_table.html" %}
{% load i18n %}
{% block table_headers %}
    <th>{% trans "Last Updated" %}</th>
    <th>{% trans "Expires At" %}</th>
    <th>{% trans "Submission Title" %}</th>
    <th>{% trans "Action" %}</th>
{% endblock table_headers %}
{% block table_content %}
    {% for in_progress in page %}
        <tr>
            <td>{{ in_progress.last_updated|date:"D M j, Y" }} @ {{ in_progress.last_updated|time:"H:i" }}</td>
            <td>
                {% if in_progress.upload_session_expires_at %}
                    <span class=" {% if in_progress.upload_session_expires_soon %}text-error{% endif %} {% if in_progress.upload_session_expired %}line-through{% endif %} ">
                        {{ in_progress.upload_session_expires_at|date:"D M j, Y" }} @
                        {{ in_progress.upload_session_expires_at|time:"H:i" }}
                    </span>
                {% else %}
                    -
                {% endif %}
            </td>
            <td>{{ in_progress.title }}</td>
            <td>
                <div class="flex flex-row gap-4">
                    {% if not in_progress.upload_session_expired %}
                        <a href="{{ in_progress.get_resume_url }}"
                           title="Resume"
                           class="link link-success tooltip"
                           data-tip="Resume">
                            <i class="fas fa-play"></i>
                        </a>
                    {% endif %}
                    <a href="{% url 'recordtransfer:delete_in_progress' uuid=in_progress.uuid %}"
                       title="Delete"
                       class="link link-error tooltip"
                       data-tip="Delete">
                        <i class="fas fa-trash-alt"></i>
                    </a>
                </div>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="4" class="text-center p-4">{% trans "You have no submissions that are in progress." %}</td>
        </tr>
    {% endfor %}
{% endblock table_content %}
