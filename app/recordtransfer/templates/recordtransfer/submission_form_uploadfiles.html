{% extends "recordtransfer/submission_form_standard.html" %}
{% load static %}
{% load i18n %}
{% block javascript %}
    {{ block.super }}
{% endblock javascript %}
{% block buttonarrayclass %}
    flex-med-width-item
{% endblock buttonarrayclass %}
{% block savelinkclass %}
    flex-med-width-item
{% endblock savelinkclass %}
{% block formfields %}
    {{ block.super }}
    <p class="flex-med-width-item margin-top-25px">
        <i>Upload your files</i>
    </p>
    <p class="flex-med-width-item">
        {% blocktrans %}
        You may upload a <b>maximum of {{ MAX_TOTAL_UPLOAD_COUNT }} files</b>, and <b>at most
        {{ MAX_TOTAL_UPLOAD_SIZE_MB }}MB of files</b>. Any <b>one file may not exceed
        {{ MAX_SINGLE_UPLOAD_SIZE_MB }} MB</b>. Note that large submissions may take a few
        minutes, so please do not reload the web page when your files are being uploaded.
        {% endblocktrans %}
    </p>
    <!-- DaisyUI Collapse Component for Accepted File Types -->
    <div class="flex-med-width-item mb-4">
        <div class="collapse collapse-arrow border border-base-300 rounded-lg bg-base-100">
            <input type="checkbox" class="peer" aria-label="{% trans 'Toggle accepted file types' %}" />
            <div class="collapse-title text-base font-medium flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke-width="1.5"
                     stroke="currentColor"
                     class="w-5 h-5 mr-2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                </svg>
                {% trans "Accepted File Types" %}
            </div>
            <div class="collapse-content">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 pt-2">
                    {% for category, extensions in ACCEPTED_FILE_FORMATS.items %}
                        <div class="bg-base-200 p-3 rounded-lg">
                            <div class="font-medium text-primary mb-1">{{ category }}</div>
                            <div class="flex flex-wrap gap-1">
                                {% for ext in extensions %}<span class="badge badge-sm">{{ ext }}</span>{% endfor %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <div class="flex-med-width-item">
        <div id="uppy-dashboard"></div>
    </div>
    <div class="flex-med-width-item">
        <div>
            {% trans "Total size of transfer:" %}
            <span id="total-size">0</span> {% trans "MB" %}
        </div>
        <div>
            {% trans "Remaining size allowed:" %}
            <span id="remaining-size">{{ MAX_TOTAL_UPLOAD_SIZE_MB }}</span> {% trans "MB" %}
        </div>
    </div>
{% endblock formfields %}
