{% load i18n %}
{% load static %}
{% load render_bundle from webpack_loader %}
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
    <head>
        <title>
            {% blocktrans with title=metadata.accession_title %}
            Submission Report for {{ title }}
            {% endblocktrans %}
        </title>
        <meta name="description"
              content="Automatically generated report for the submission.">
        <meta name="keywords" content="report, submission, metadata">
        {% render_bundle 'submission_detail' 'css' %}
    </head>
    <body>
        <div class="main-title">
            {% blocktrans with title=metadata.accession_title %}
            Submission Report for {{ title }}
            {% endblocktrans %}
        </div>
        <div class="main-container">
            <p>
                {% blocktrans with username=submission.user.username email=submission.user.email date=submission.submission_date title=metadata.accession_title %}
                The following is an automatically generated report for the submission made by
                {{ username }} ({{ email }}) at {{ date }}, titled "{{ title }}."
                {% endblocktrans %}
            </p>
            <table border="1" cellspacing="0">
                <tr>
                    <th colspan="2">
                        <div class="title">{% trans "Submission Context" %}</div>
                    </th>
                </tr>
                <tr>
                    <td>
                        <b>{% trans "Submission Date" %}</b>
                    </td>
                    <td>{{ submission.submission_date }}</td>
                </tr>
                <tr>
                    <td>
                        <b>{% trans "Submitted By" %}</b>
                    </td>
                    <td>{{ submission.user.username }}</td>
                </tr>
                <tr>
                    <td>
                        <b>{% trans "Report Generation Date" %}</b>
                    </td>
                    <td>{{ current_date }}</td>
                </tr>
                <tr>
                    <td>
                        <b>{% trans "Submission UUID" %}</b>
                    </td>
                    <td>{{ submission.uuid }}</td>
                </tr>
            </table>
            <h2 class="section-heading">{% trans "1. Identity Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "1.1 Repository" %}</div>
                <div class="value-field" id="repository">
                    {% if metadata.repository %}
                        {{ metadata.repository }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "1.2 Identifiers" %}</div>
                {% if metadata.identifiers.all %}
                    {% for identifier in metadata.identifiers.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.identifiers.count %}
                                    Identifier {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "1.2.1 Identifier Type:" %}</b>
                                    <span id="identifier-type-{{ forloop.counter }}">{{ identifier.identifier_type }}</span>
                                </li>
                                <li>
                                    <b>{% trans "1.2.1 Identifier Value:" %}</b>
                                    <span id="identifier-value-{{ forloop.counter }}">{{ identifier.identifier_value }}</span>
                                </li>
                                <li>
                                    <b>{% trans "1.2.1 Identifier Note:" %}</b>
                                    <span id="identifier-note-{{ forloop.counter }}">{{ identifier.identifier_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "1.3 Accession Title" %}</div>
                <div class="value-field" id="accession-title">
                    {% if metadata.accession_title %}
                        {{ metadata.accession_title }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "1.4 Archival Unit" %}</div>
                <div class="value-field">
                    {% if metadata.archival_units.all %}
                        <ul class="no-ul-margin">
                            {% for archival_unit in metadata.archival_units.all %}
                                <li id="archival-unit-{{ forloop.counter }}">{{ archival_unit.archival_unit }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "1.5 Acquisition Method" %}</div>
                <div class="value-field" id="acquisition-method">
                    {% if metadata.acquisition_method %}
                        {{ metadata.acquisition_method.name }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "1.6 Disposition Authority" %}</div>
                <div class="value-field">
                    {% if metadata.disposition_authorities.all %}
                        <ul class="no-ul-margin">
                            {% for disposition_authority in metadata.disposition_authorities.all %}
                                <li id="disposition-authority-{{ forloop.counter }}">{{ disposition_authority.disposition_authority }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "1.7 Status" %}</div>
                <div class="value-field" id="status">
                    {% if metadata.status %}
                        {{ metadata.status.name }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
            </section>
            <h2 class="section-heading">{% trans "2. Source Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "2.1 Source of Materials" %}</div>
                {% if metadata.source_of_materials.all %}
                    {% for source_of_material in metadata.source_of_materials.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.source_of_materials.count %}
                                    Source of Material {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "2.1.1 Source Type:" %}</b>
                                    <span id="source-type-{{ forloop.counter }}">{{ source_of_material.source_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "2.1.2 Source Name:" %}</b>
                                    <span id="source-name-{{ forloop.counter }}">{{ source_of_material.source_name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "2.1.3 Source Contact Information:" %}</b>
                                    <div id="source-contact-information-{{ forloop.counter }}">
                                        <ul class="no-ul-margin">
                                            <li id="contact-name-{{ forloop.counter }}">
                                                {% blocktrans with name=source_of_material.contact_name %}
                                                Contact Name: {{ name }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="job-title-{{ forloop.counter }}">
                                                {% blocktrans with title=source_of_material.job_title %}
                                                Job Title: {{ title }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="organization-{{ forloop.counter }}">
                                                {% blocktrans with organization=source_of_material.organization %}
                                                Organization: {{ organization }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="phone-number-{{ forloop.counter }}">
                                                {% blocktrans with phone=source_of_material.phone_number %}
                                                Phone Number: {{ phone }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="email-{{ forloop.counter }}">
                                                {% blocktrans with email=source_of_material.email_address %}
                                                Email: {{ email }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="address-line-1-{{ forloop.counter }}">
                                                {% blocktrans with address_line=source_of_material.address_line_1 %}
                                                Address Line 1: {{ address_line }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="address-line-2-{{ forloop.counter }}">
                                                {% blocktrans with address_line=source_of_material.address_line_2 %}
                                                Address Line 2: {{ address_line }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="city-{{ forloop.counter }}">
                                                {% blocktrans with city=source_of_material.city %}
                                                City: {{ city }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="region-{{ forloop.counter }}">
                                                {% blocktrans with region=source_of_material.region %}
                                                Region: {{ region }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="postal-or-zip-code-{{ forloop.counter }}">
                                                {% blocktrans with postal_or_zip_code=source_of_material.postal_or_zip_code %}
                                                Postal or Zip Code: {{ postal_or_zip_code }}
                                                {% endblocktrans %}
                                            </li>
                                            <li id="country-{{ forloop.counter }}">
                                                {% blocktrans with country=source_of_material.country %}
                                                Country: {{ country }}
                                                {% endblocktrans %}
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <b>{% trans "2.1.4 Source Role:" %}</b>
                                    <span id="source-role-{{ forloop.counter }}">{{ source_of_material.source_role.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "2.1.5 Source Note:" %}</b>
                                    <span id="source-note-{{ forloop.counter }}">{{ source_of_material.source_note }}</span>
                                </li>
                                <li>
                                    <b>{% trans "2.1.6 Source Confidentiality:" %}</b>
                                    <span id="source-confidentiality-{{ forloop.counter }}">{{ source_of_material.source_confidentiality.name }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "2.2 Preliminary Custodial History" %}</div>
                <div class="value-field">
                    {% if metadata.preliminary_custodial_histories.all %}
                        <ul class="no-ul-margin">
                            {% for history in metadata.preliminary_custodial_histories.all %}
                                <li id="preliminary-custodial-history-{{ forloop.counter }}">{{ history.preliminary_custodial_history }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
            </section>
            <h2 class="section-heading">{% trans "3. Materials Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "3.1 Date of Materials" %}</div>
                <div class="value-field" id="status">
                    {% if metadata.date_of_materials %}
                        {{ metadata.date_of_materials }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "3.2 Extent Statement" %}</div>
                {% if metadata.extent_statements.all %}
                    {% for extent_statement in metadata.extent_statements.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.extent_statements.count %}
                                    Extent Statement {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "3.2.1 Extent Type:" %}</b>
                                    <span id="extent-type-{{ forloop.counter }}">{{ extent_statement.extent_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "3.2.2 Quantity and Unit of Measure:" %}</b>
                                    <span id="quantity-and-unit-of-measure-{{ forloop.counter }}">{{ extent_statement.quantity_and_unit_of_measure }}</span>
                                </li>
                                <li>
                                    <b>{% trans "3.2.3 Content Type:" %}</b>
                                    <span id="content-type-{{ forloop.counter }}">{{ extent_statement.content_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "3.2.4 Carrier Type:" %}</b>
                                    <span id="carrier-type-{{ forloop.counter }}">{{ extent_statement.carrier_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "3.2.5 Extent Note:" %}</b>
                                    <span id="extent-note-{{ forloop.counter }}">{{ extent_statement.extent_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "3.3 Preliminary Scope and Content" %}</div>
                <div class="value-field">
                    {% if metadata.preliminary_scope_and_contents.all %}
                        <ul class="no-ul-margin">
                            {% for scope in metadata.preliminary_scope_and_contents.all %}
                                <li id="preliminary-scope-and-content-{{ forloop.counter }}">{{ scope.preliminary_scope_and_content }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "3.4 Language of Material" %}</div>
                <div class="value-field">
                    {% if metadata.language_of_materials.all %}
                        <ul class="no-ul-margin">
                            {% for language_of_material in metadata.language_of_materials.all %}
                                <li id="language-of-material-{{ forloop.counter }}">{{ language_of_material.language_of_material }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
            </section>
            <h2 class="section-heading">{% trans "4. Management Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "4.1 Storage Location" %}</div>
                <div class="value-field">
                    {% if metadata.storage_locations.all %}
                        <ul class="no-ul-margin">
                            {% for storage_location in metadata.storage_locations.all %}
                                <li id="storage-location-{{ forloop.counter }}">{{ storage_location.storage_location }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "4.2 Rights" %}</div>
                {% if metadata.rights.all %}
                    {% for rights in metadata.rights.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.rights.count %}
                                    Rights {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "4.2.1 Rights Type:" %}</b>
                                    <span id="rights-type-{{ forloop.counter }}">{{ rights.rights_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.2.2 Rights Value:" %}</b>
                                    <span id="rights-value-{{ forloop.counter }}">{{ rights.rights_value }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.2.3 Rights Note:" %}</b>
                                    <span id="rights-note-{{ forloop.counter }}">{{ rights.rights_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "4.3 Preservation Requirements" %}</div>
                {% if metadata.preservation_requirements.all %}
                    {% for requirement in metadata.preservation_requirements.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.preservation_requirements.count %}
                                    Preservation Requirements {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "4.3.1 Preservation Requirements Type:" %}</b>
                                    <span id="preservation-requirements-type-{{ forloop.counter }}">{{ requirement.preservation_requirements_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.3.2 Preservation Requirements Value:" %}</b>
                                    <span id="preservation-requirements-value-{{ forloop.counter }}">{{ requirement.preservation_requirements_value }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.3.3 Preservation Requirements Note:" %}</b>
                                    <span id="preservation-requirements-note-{{ forloop.counter }}">{{ requirement.preservation_requirements_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "4.4 Appraisal" %}</div>
                {% if metadata.appraisals.all %}
                    {% for appraisal in metadata.appraisals.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.appraisals.count %}
                                    Appraisal {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "4.4.1 Appraisal Type:" %}</b>
                                    <span id="appraisal-type-{{ forloop.counter }}">{{ appraisal.appraisal_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.4.2 Appraisal Value:" %}</b>
                                    <span id="appraisal-value-{{ forloop.counter }}">{{ appraisal.appraisal_value }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.4.3 Appraisal Note:" %}</b>
                                    <span id="appraisal-note-{{ forloop.counter }}">{{ appraisal.appraisal_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "4.5 Associated Documentation" %}</div>
                {% if metadata.associated_documentation.all %}
                    {% for documentation in metadata.associated_documentation.all %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.associated_documentation.count %}
                                    Associated Documentation {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "4.5.1 Associated Documentation Type:" %}</b>
                                    <span id="associated-documentation-type-{{ forloop.counter }}">{{ documentation.associated_documentation_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.5.2 Associated Documentation Title:" %}</b>
                                    <span id="associated-documentation-title-{{ forloop.counter }}">{{ documentation.associated_documentation_title }}</span>
                                </li>
                                <li>
                                    <b>{% trans "4.5.3 Associated Documentation Note:" %}</b>
                                    <span id="associated-documentation-note-{{ forloop.counter }}">{{ documentation.associated_documentation_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
            </section>
            <h2 class="section-heading">{% trans "5. Event Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "5.1 Events" %}</div>
                {% if metadata.events.all %}
                    {# Loop from newest to oldest #}
                    {% for event in metadata.events.all reversed %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.events.count %}
                                    Event {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "5.1.1 Event Type:" %}</b>
                                    <span id="event-type-{{ forloop.counter }}">{{ event.event_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "5.1.1 Event Date:" %}</b>
                                    <span id="event-date-{{ forloop.counter }}">{{ event.event_date }}</span>
                                </li>
                                <li>
                                    <b>{% trans "5.1.3 Event Agent:" %}</b>
                                    <span id="event-agent-{{ forloop.counter }}">{{ event.event_agent }}</span>
                                </li>
                                <li>
                                    <b>{% trans "5.1.4 Event Note:" %}</b>
                                    <span id="event-note-{{ forloop.counter }}">{{ event.event_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
            </section>
            <h2 class="section-heading">{% trans "6. General Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "6.1 General Note" %}</div>
                <div class="value-field">
                    {% if metadata.general_notes.all %}
                        <ul class="no-ul-margin">
                            {% for general_note in metadata.general_notes.all %}
                                <li id="general-note-{{ forloop.counter }}">{{ general_note.general_note }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <i>{% trans "(None specified)" %}</i>
                    {% endif %}
                </div>
            </section>
            <h2 class="section-heading">{% trans "7. Control Information Section" %}</h2>
            <section>
                <div class="name-field">{% trans "7.1 Rules or Conventions" %}</div>
                <div class="value-field" id="status">
                    {% if metadata.rules_or_conventions %}
                        {{ metadata.rules_or_conventions }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
                <div class="name-field">{% trans "7.2 Date of Creation or Revision" %}</div>
                {% if metadata.dates_of_creation_or_revision.all %}
                    {# Loop from newest to oldest #}
                    {% for date in metadata.dates_of_creation_or_revision.all reversed %}
                        <div class="value-field">
                            <div class="repeatable-field-counter">
                                <i>
                                    {% blocktrans with num=forloop.counter total=metadata.dates_of_creation_or_revision.count %}
                                    Date of Creation or Revision {{ num }} of {{ total }}
                                    {% endblocktrans %}
                                </i>
                            </div>
                            <ul class="no-ul-margin">
                                <li>
                                    <b>{% trans "7.2.1 Creation or Revision Type:" %}</b>
                                    <span id="creation-or-revision-type-{{ forloop.counter }}">{{ date.creation_or_revision_type.name }}</span>
                                </li>
                                <li>
                                    <b>{% trans "7.2.2 Creation or Revision Date:" %}</b>
                                    <span id="creation-or-revision-date-{{ forloop.counter }}">{{ date.creation_or_revision_date }}</span>
                                </li>
                                <li>
                                    <b>{% trans "7.2.3 Creation or Revision Agent:" %}</b>
                                    <span id="creation-or-revision-agent-{{ forloop.counter }}">{{ date.creation_or_revision_agent }}</span>
                                </li>
                                <li>
                                    <b>{% trans "7.2.4 Creation or Revision Note:" %}</b>
                                    <span id="creation-or-revision-note-{{ forloop.counter }}">{{ date.creation_or_revision_note }}</span>
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="value-field">
                        <i>{% trans "(None specified)" %}</i>
                    </div>
                {% endif %}
                <div class="name-field">{% trans "7.3 Language of Accession Record" %}</div>
                <div class="value-field" id="status">
                    {% if metadata.language_of_accession_record %}
                        {{ metadata.language_of_accession_record }}
                    {% else %}
                        <i>{% trans "(Not specified)" %}</i>
                    {% endif %}
                </div>
            </section>
        </div>
    </body>
</html>
